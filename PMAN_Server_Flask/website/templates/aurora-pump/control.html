{% extends "layout.html" %} {% block head%} {% endblock %} {% block content%}

<h2>Pull</h2>
<form id="pullForm">
  <label for="pull-volume">Volume:</label>
  <input type="text" id="pull-volume" name="pull-volume">
  <button type="submit">Submit</button>
</form>
<h2>Push</h2>
<form id="pushForm">
  <label for="push-volume">Volume:</label>
  <input type="text" id="push-volume" name="push-volume">
  <button type="submit">Submit</button>
</form>
<h2>Switch to Port</h2>
<div class="q_grid">
	{%for i in range(10)%}
	<button type="button" onclick=switchToPort({{i+1}})>{{i+1}}</button>
  {%endfor%}
</div>
{% endblock %} {% block scripts %}
<script>
  async function switchToPort(n){
    const response = await fetchPOST("/pman/aurora-pump/switch-to-port", { args: [n] });
    display(response);
  }
  document.getElementById("pullForm").addEventListener("submit", async function(event) {
    event.preventDefault();
    const volume = document.getElementById("pull-volume").value;
    const response = await fetchPOST("/pman/aurora-pump/pull", { args: [volume] });
    display(response);
  });
  document.getElementById("pushForm").addEventListener("submit", async function(event) {
    event.preventDefault();
    const volume = document.getElementById("push-volume").value;
    const response = await fetchPOST("/pman/aurora-pump/push", { args: [volume] });
    display(response);
  });
</script>
{% endblock%}
